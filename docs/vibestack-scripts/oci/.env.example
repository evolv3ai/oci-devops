# =============================================================================
# OCI INFRASTRUCTURE CONFIGURATION
# =============================================================================
# This is the centralized configuration for Oracle Cloud Infrastructure
# Used by both KASM and Coolify deployments

# =============================================================================
# DEPLOYMENT CONFIGURATION - CHOOSE YOUR SETUP
# =============================================================================

# Deployment Type Selection
# Options: "kasm", "coolify", "both", "none"
# - kasm: Deploy KASM Workspaces only
# - coolify: Deploy Coolify self-hosted PaaS only  
# - both: Deploy both KASM and Coolify servers
# - none: Skip deployment (configuration only)
DEPLOYMENT_TYPE=KASM

# =============================================================================
# RESOURCE PROFILES
# =============================================================================
# Oracle Cloud Free Tier provides:
# - Up to 4 OCPUs and 24 GB of memory for ARM-based Ampere A1 Compute instances
# - 200 GB block storage total
# You can distribute these resources across multiple instances

# KASM Workspaces Resource Allocation
# Default: 2 OCPUs, 12GB RAM, 80GB Storage
KASM_INSTANCE_OCPUS=2
KASM_INSTANCE_MEMORY_GB=12
KASM_INSTANCE_STORAGE_GB=80

# Coolify Resource Allocation
# Default: 2 OCPUs, 12GB RAM, 100GB Storage
# Suitable for small to medium deployments
COOLIFY_INSTANCE_OCPUS=2
COOLIFY_INSTANCE_MEMORY_GB=12
COOLIFY_INSTANCE_STORAGE_GB=100

# Note: When DEPLOYMENT_TYPE=both, ensure total resources don't exceed:
# - Total OCPUs: 4 (KASM + Coolify combined)
# - Total Memory: 24GB (KASM + Coolify combined)
# - Total Storage: 200GB (KASM + Coolify combined)

# =============================================================================
# OCI AUTHENTICATION
# =============================================================================

# Get these from your OCI console: https://cloud.oracle.com
# Profile -> Tenancy: <tenancy-name> -> OCID (copy)
TENANCY_OCID=ocid1.tenancy.oc1..your_tenancy_ocid_here

# Select your home region or closest region
# Common regions: us-ashburn-1, us-phoenix-1, eu-frankfurt-1, ap-sydney-1
REGION=us-ashburn-1

# User OCID (Profile -> User Settings -> OCID)
USER_OCID=ocid1.user.oc1..your_user_ocid_here

# API Key Fingerprint (will be shown after adding API key)
FINGERPRINT=

# Path to OCI API private key file
OCI_API_KEY_PATH=~/.oci/oci_api_key.pem

# =============================================================================
# INFRASTRUCTURE CONFIGURATION
# =============================================================================

# Compartment for resource organization
# This will be created if it doesn't exist
COMPARTMENT_NAME=DevOpsLab

# Network Configuration
# VCN (Virtual Cloud Network) settings
VCN_CIDR=10.0.0.0/16
SUBNET_CIDR=10.0.1.0/24

# Instance Configuration
INSTANCE_SHAPE=VM.Standard.A1.Flex
OPERATING_SYSTEM="Canonical Ubuntu"
OPERATING_SYSTEM_VERSION="22.04"

# Naming Prefixes (will be used for resource identification)
KASM_DISPLAY_NAME_PREFIX=KASM
COOLIFY_DISPLAY_NAME_PREFIX=Coolify

# =============================================================================
# SSH CONFIGURATION
# =============================================================================

# SSH Key Paths for Instance Access
# Generate with: ssh-keygen -t ed25519 -f ~/.ssh/oci_devops
SSH_PUBLIC_KEY_PATH=~/.ssh/oci_devops.pub
SSH_PRIVATE_KEY_PATH=~/.ssh/oci_devops

# SSH User (default for Ubuntu images)
SSH_USER=ubuntu

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# Security List Rules (Ports to Open)
# These will be automatically configured based on deployment type

# KASM Ports
KASM_PORTS="22,8443,3389,3000-4000"

# Coolify Ports  
COOLIFY_PORTS="22,8000,80,443,6001,6002"

# =============================================================================
# AUTOMATION SETTINGS
# =============================================================================

# Skip Checks (for faster re-runs)
SKIP_PREFLIGHT=false
SKIP_ENV_VALIDATION=false
SKIP_COMPARTMENT_CHECK=false

# Retry Settings
MAX_RETRIES=3
RETRY_DELAY=60

# Cleanup Settings
AUTO_CLEANUP_ON_FAILURE=false
PRESERVE_FAILED_RESOURCES=true

# =============================================================================
# OUTPUT CONFIGURATION
# =============================================================================

# Where to save generated credentials and access information
OUTPUT_DIR=./output
SAVE_CREDENTIALS=true
ENCRYPT_CREDENTIALS=false

# =============================================================================
# AUTO-GENERATED VARIABLES
# =============================================================================
# These will be automatically populated by the infrastructure scripts
# DO NOT MODIFY MANUALLY

# Compartment and Network IDs
# COMPARTMENT_ID=
# VCN_ID=
# SUBNET_ID=
# INTERNET_GATEWAY_ID=
# ROUTE_TABLE_ID=
# KASM_SECURITY_LIST_ID=
# COOLIFY_SECURITY_LIST_ID=

# Instance IDs and IPs
# KASM_INSTANCE_ID=
# KASM_INSTANCE_PUBLIC_IP=
# KASM_INSTANCE_PRIVATE_IP=
# COOLIFY_INSTANCE_ID=
# COOLIFY_INSTANCE_PUBLIC_IP=
# COOLIFY_INSTANCE_PRIVATE_IP=

# Availability Domain and Image
# AVAILABILITY_DOMAIN=
# UBUNTU_IMAGE_ID=

# =============================================================================
# VALIDATION CHECKLIST
# =============================================================================
# Before running the infrastructure setup, ensure:
# ✓ You have an OCI account with free tier credits
# ✓ You've generated SSH keys
# ✓ You've added your API key to OCI console
# ✓ You've selected appropriate resource allocations
# ✓ Total resources don't exceed free tier limits